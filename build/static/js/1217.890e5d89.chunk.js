"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[1217],{1217:(t,e,i)=>{i.r(e),i.d(e,{dc_ui_anchor_bar:()=>n});var r=i(937);const n=class{constructor(t){(0,r.r)(this,t),this.anchorItems=[],this.sections=[],this.currentIndex=-1,this.lastScrollPosition=window.scrollY,this.isScrollingUp=!1,this.lastKnownScrollPosition=0,this.isShadowRoot=!1,this.sectionsMap=new Map,this.LAYOUT={INLINE_PADDING:15,OVERFLOW_BUTTON_WIDTH:32,OVERFLOW_BUTTON_GAP:12,ITEM_GAP:12},this.handleAnchorClick=t=>{t.preventDefault();const e=t.currentTarget.getAttribute("href");this.scrollToSection(e)},this.setScrollDirection=()=>{const t=window.scrollY,e=this.isScrollingUp;this.isScrollingUp=t<this.lastScrollPosition,this.lastScrollPosition=t,e!==this.isScrollingUp&&this.isAnchorBarSticky&&this.updateStickyOffset(this.isScrollingUp)},this.handleScroll=()=>{this.lastKnownScrollPosition=window.scrollY,requestAnimationFrame((()=>{setTimeout((()=>{this.lastKnownScrollPosition===window.scrollY&&this.updateActiveSection()}),150)}))},this.updateActiveSection=()=>{if(!this.isAnchorBarSticky)return this.currentIndex=-1,void this.toggleActiveAnchor(-1);const t=this.getActiveSection();this.currentIndex=t,this.toggleActiveAnchor(t)},this.getActiveSection=()=>{const t=this.isHeaderShown?this.getHeaderHeight()+this.getAnchorBarHeight():this.getAnchorBarHeight(),e=window.scrollY+t;let i=null;for(let r=this.sections.length-1;r>=0&&null===i;r--)e>=this.getElementPosition(r)&&(i=r);return i},this.getElementPosition=t=>{const e=this.sections[t],i=this.isScrollingUp&&this.isHeaderShown?this.getHeaderHeight():0,r=this.getAnchorBarHeight();return e.getBoundingClientRect().top+window.scrollY-i-r},this.toggleActiveAnchor=t=>{const e=this.anchorItems;for(let i=0;i<e.length;i+=1)this.isAnchorBarSticky&&i===t?(e[i].setAttribute("selected",""),e[i].setAttribute("aria-current","location"),0!==i&&this.hasOverflow&&this.isAnchorBarSticky&&e[i].scrollIntoView({behavior:"smooth",inline:"center"})):(e[i].removeAttribute("selected"),e[i].removeAttribute("aria-current"))},this.checkForOverflow=()=>{if(!this.anchorBarContainer)return;const{width:t}=this.anchorBarContainer.getBoundingClientRect(),{INLINE_PADDING:e,OVERFLOW_BUTTON_WIDTH:i,OVERFLOW_BUTTON_GAP:r}=this.LAYOUT,n=t-2*e-2*i-2*r,s=this.anchorItems.reduce(((t,e)=>t+e.getBoundingClientRect().width+this.LAYOUT.ITEM_GAP),-this.LAYOUT.ITEM_GAP);this.hasOverflow=s>n},this.scrollOffset=0,this.isAnchorBarSticky=!1,this.isHeaderShown=!1,this.hasOverflow=!1,this.isAtStart=!0,this.isAtEnd=!1}handleHeaderShown(){this.isHeaderShown=!0}handleHeaderHidden(){this.isHeaderShown=!1}handleCurrentIndexChange(){this.updateButtonStates()}async goToSectionIndex(t){this.currentIndex=t,this.toggleActiveAnchor(t)}componentDidLoad(){const t=this.el.getRootNode();this.isShadowRoot=t instanceof ShadowRoot,this.initializeElements(),this.setupObservers(),this.setupEventListeners(),this.checkForOverflow()}disconnectedCallback(){this.cleanupObservers(),this.cleanupEventListeners()}setupEventListeners(){this.setupClickHandlers(),window.addEventListener("scroll",this.handleScroll),window.addEventListener("scroll",this.setScrollDirection),window.addEventListener("resize",this.checkForOverflow)}cleanupEventListeners(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("scroll",this.setScrollDirection),window.removeEventListener("resize",this.checkForOverflow),this.anchorItems.forEach((t=>{t.removeEventListener("click",this.handleAnchorClick)}))}cleanupObservers(){var t,e,i;null===(t=this.sectionVisibilityObserver)||void 0===t||t.disconnect(),null===(e=this.anchorBarStickyObserver)||void 0===e||e.disconnect(),null===(i=this.lastSectionObserver)||void 0===i||i.disconnect()}initializeElements(){this.header=document.querySelector("dc-ui-header")||null,this.anchorItems=Array.from(this.el.children).filter((t=>"dc-ui-anchor-bar-item"===t.tagName.toLowerCase())),this.isShadowRoot?this.sections=this.anchorItems.map((t=>{const e=t.getRootNode().host.shadowRoot.querySelector(t.getAttribute("href"));return this.sectionsMap.set(t.getAttribute("href"),e),e})):this.sections=this.anchorItems.map((t=>{const e=t.getAttribute("href"),i=document.querySelector(e);return i&&this.sectionsMap.set(e,i),i})).filter(Boolean),this.updateButtonStates()}setupObservers(){var t;this.anchorBarStickyObserver=new IntersectionObserver((t=>{let[e]=t;const i=!e.isIntersecting;i!==this.isAnchorBarSticky&&(this.isAnchorBarSticky=i,this.isAnchorBarSticky&&this.updateStickyOffset())}),{threshold:1,rootMargin:"-1px 0px 0px 0px"}),this.anchorBarStickyObserver.observe(this.el);const e=null===(t=this.sections[this.sections.length-1])||void 0===t?void 0:t.nextElementSibling;e&&(this.lastSectionObserver=new IntersectionObserver((t=>{const e=t[0],i=e.boundingClientRect,r=this.getAnchorBarHeight();if(!e.isIntersecting&&i.bottom<=r)this.isAnchorBarSticky=!1;else if(e.isIntersecting&&this.isScrollingUp){this.el.getBoundingClientRect().top<=0&&(this.isAnchorBarSticky=!0,this.updateStickyOffset(!0))}}),{threshold:[0],rootMargin:"0px 0px 0px 0px"}),this.lastSectionObserver.observe(e))}setupClickHandlers(){this.anchorItems.forEach((t=>{t.addEventListener("click",this.handleAnchorClick)}))}getHeaderHeight(){return this.header?this.header.getBoundingClientRect().height:0}getAnchorBarHeight(){var t,e;return null!==(e=null===(t=this.anchorBarContainer)||void 0===t?void 0:t.getBoundingClientRect().height)&&void 0!==e?e:0}updateStickyOffset(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.el.style.setProperty("--header-offset-height",`${t?this.getHeaderHeight():0}px`)}scrollToSection(t){const e=this.sectionsMap.get(t);if(!e)return;const i="up"===this.getScrollDirection(e)?this.getHeaderHeight():0,r=this.getAnchorBarHeight(),n=this.scrollOffset,s=i+r+(this.isAnchorBarSticky?0:r)+n;e.style.scrollMarginTop=`${s}px`,e.scrollIntoView({behavior:"smooth",block:"start"}),e.style.removeProperty("scroll-margin-top"),history.pushState(null,"",t)}getScrollDirection(t){const e=-1!==this.currentIndex?this.sections[this.currentIndex]:null;return e?t.getBoundingClientRect().top<e.getBoundingClientRect().top?"up":"down":t.getBoundingClientRect().top>window.innerHeight/2?"down":"up"}handleOverflowButtonClick(t){const e="left"===t?Math.max(0,this.currentIndex-1):Math.min(this.anchorItems.length-1,this.currentIndex+1);e!==this.currentIndex&&this.scrollToSection(this.anchorItems[e].getAttribute("href"))}updateButtonStates(){this.isAtStart=this.currentIndex<=0,this.isAtEnd=this.currentIndex>=this.anchorItems.length-1}render(){const t=(0,r.h)("dc-ui-button",{key:"f7394f90139b5900871d5ecd1773abc5a370f1dc",icon:"dc_backward_left",variant:"link",size:"small","hide-label":"true",disabled:this.isAtStart,onClick:()=>this.handleOverflowButtonClick("left")},"Go to previous section"),e=(0,r.h)("dc-ui-button",{key:"29db7b7c5507539fb02a668ac99ca06450002ce4",icon:"dc_forward_right",variant:"link",size:"small","hide-label":"true",disabled:this.isAtEnd,onClick:()=>this.handleOverflowButtonClick("right")},"Go to next section");return(0,r.h)("div",{key:"9e225fe33d5ba2089adbfc1a3b715f6ff082e454",class:{"dc-ui-anchor-bar":!0,"dc-ui-anchor-bar--is-sticky":this.isAnchorBarSticky}},(0,r.h)("div",{key:"351805c4ffaf07fb8faf3d69394ff2d908592350",class:{"dc-ui-anchor-bar__inner":!0,"dc-ui-anchor-bar__inner--has-overflow":this.hasOverflow},ref:t=>this.anchorBarContainer=t},this.hasOverflow&&t,(0,r.h)("nav",{key:"c0fa94be54ba234a8cbe38e55b7ef0438ca9c7ec",class:"dc-ui-anchor-bar__inner-wrapper"},(0,r.h)("slot",{key:"9120a05e7c3965c0c8e83a398c6b1fef00fd68d0"})),this.hasOverflow&&e))}get el(){return(0,r.g)(this)}static get watchers(){return{currentIndex:["handleCurrentIndexChange"]}}};n.style=':root{--White-Gradient:linear-gradient(\n    180deg,\n    rgba(255, 255, 255, 0) 0%,\n    rgba(255, 255, 255, 0.5) 60%,\n    #ffffff 100%\n  );--Grey-Gradient:linear-gradient(\n    180deg,\n    rgba(237, 241, 244, 0) 0%,\n    rgba(237, 241, 244, 0.5) 60%,\n    #edf1f4 100%\n  );--Blue-Gradient:linear-gradient(\n    180deg,\n    rgba(0, 43, 73, 0) 0%,\n    rgba(0, 43, 73, 0.5) 60%,\n    #002b49 100%\n  )}:host{--anchor-bar-max-width:1920px}@media (max-width: 1920px){:host{--anchor-bar-max-width:1440px}}.dc-ui-anchor-bar{background-color:#ffffff;position:relative;transition:top 0.3s ease-in-out;display:flex}.dc-ui-anchor-bar:before{content:"";position:absolute;bottom:0;left:0;right:0;width:100%;height:1px;background-color:#a3bac8;z-index:1}.dc-ui-anchor-bar--is-sticky{position:fixed;top:var(--header-offset-height, 0);left:0;right:0;z-index:1000;max-width:var(--anchor-bar-max-width);margin:0 auto;box-shadow:0px 16px 32px -16px rgba(0, 43, 73, 0.32)}.dc-ui-anchor-bar--is-sticky:before{bottom:unset;top:0;background-color:#edf1f4}.dc-ui-anchor-bar__inner{display:grid;grid-template-columns:1fr;align-items:center;margin:0 auto;max-width:1170px;height:48px;width:100%}.dc-ui-anchor-bar__inner--has-overflow{padding-inline:15px;grid-template-columns:auto 1fr auto;gap:12px}.dc-ui-anchor-bar__inner-wrapper{display:flex;gap:12px;max-width:100%;margin:0 auto;overflow-x:auto}.dc-ui-anchor-bar__inner-wrapper::-webkit-scrollbar{display:none}'}}]);
//# sourceMappingURL=1217.890e5d89.chunk.js.map