"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[8126],{6151:(e,t,i)=>{i.d(t,{A:()=>s});class s{constructor(e,t,i){this.resultsContainer=null,this.resizeObserver=null,this.handleInput=()=>{const e=this.input.value.trim();e?this.getSuggestions(e):this.clearResults()},this.handleKeydown=e=>{if(!this.resultsContainer)return;const t=this.resultsContainer.querySelectorAll("li");let i=Array.from(t).findIndex((e=>e.classList.contains("active")));switch(e.key){case"ArrowDown":case"ArrowUp":i=this.handleArrowKeys(e.key,i,t.length),this.setActiveItem(t,i),e.preventDefault();break;case"Enter":-1!==i&&this.handleEnterKey(i,t);break;case"Escape":this.clearResults()}},this.handleArrowKeys=(e,t,i)=>"ArrowDown"===e?(t+1)%i:(t-1+i)%i,this.handleEnterKey=(e,t)=>{if(-1!==e){const i=t[e];this.handleItemSelection({name:i.textContent||"",type:i.getAttribute("data-type")||""})}},this.handleBlur=()=>{setTimeout((()=>this.clearResults()),200)},this.handleFocus=()=>{const e=this.input.value.trim();if(this.config.fetchOnFocus){const t=e||this.config.defaultQuery||"";this.getSuggestions(t)}else e&&this.getSuggestions(e)},this.handleClickOutside=e=>{var t;(null===(t=this.hostElement.shadowRoot)||void 0===t?void 0:t.contains(e.target))||this.clearResults()},this.handleResize=()=>{if(this.resultsContainer){const e=this.getContainerParent();this.setResultsContainerStyles(this.resultsContainer,e)}},this.getSuggestions=async e=>{if(!this.config.fetchOnFocus&&e.length<this.config.minChars)return this.clearResults(),{query:e,results:[]};try{let t;if(this.config.onFetch)t=await this.config.onFetch(e);else{if(!this.config.url)throw new Error("No fetch function or URL provided in the configuration");{const i=this.config.url.replace(this.config.searchTermPlaceholder,encodeURIComponent(e)+(this.config.additionalParameters||"")),s=await fetch(i);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);t=await s.json()}}return t.results.length>0?this.displayResults(t):this.clearResults(),t}catch(t){return console.error("Error fetching autocomplete suggestions:",t),this.clearResults(),{query:e,results:[]}}},this.config=e,this.hostElement=t,this.input=i}init(){this.addEventListeners(),this.setupResizeObserver()}addEventListeners(){this.input.addEventListener("input",this.handleInput),this.input.addEventListener("keydown",this.handleKeydown),this.input.addEventListener("blur",this.handleBlur),this.input.addEventListener("focus",this.handleFocus),document.addEventListener("click",this.handleClickOutside),window.addEventListener("resize",this.handleResize)}setupResizeObserver(){this.resizeObserver=new ResizeObserver(this.handleResize);const e=this.getContainerParent();this.resizeObserver.observe(e)}displayResults(e){const t=this.getContainerParent();if(this.clearResults(),0===e.results.length)return;this.resultsContainer=this.createResultsContainer(t);const i=this.config.maxResults?e.results.slice(0,this.config.maxResults):e.results;this.populateResultsContainer(i),this.updateInputAttributes()}getContainerParent(){var e;const t=null===(e=this.hostElement.shadowRoot)||void 0===e?void 0:e.querySelector(this.config.selector);if(!t)throw new Error(`Container parent element not found: ${this.config.selector}`);return t}createResultsContainer(e){const t=document.createElement("ul");return t.className=this.config.resultListClass,t.setAttribute("role","listbox"),t.id="autocomplete-results",t.setAttribute("tabindex","-1"),this.setResultsContainerStyles(t,e),e.insertAdjacentElement("afterend",t),t}setResultsContainerStyles(e,t){const i=t.getBoundingClientRect().width;e.style.boxSizing="border-box",e.style.maxWidth=`${i}px`,e.style.width="100%"}populateResultsContainer(e){const t=this.input.value.trim(),i=new RegExp(`(${this.escapeRegExp(t)})`,"gi");e.forEach(((e,t)=>{var s;const n=document.createElement("li");this.config.highlightResults?n.innerHTML=e.name.replace(i,"<mark>$1</mark>"):n.textContent=e.name,n.setAttribute("role","option"),n.setAttribute("data-type",e.type),n.id=`autocomplete-item-${t}`,n.addEventListener("click",(()=>this.handleItemSelection(e))),null===(s=this.resultsContainer)||void 0===s||s.appendChild(n)}))}escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}updateInputAttributes(){this.input.setAttribute("aria-autocomplete","list"),this.input.setAttribute("aria-controls","autocomplete-results")}handleItemSelection(e){this.config.onSelect&&this.config.onSelect(e),this.input.value=e.name,this.config.closeOnSelect&&this.clearResults()}setActiveItem(e,t){e.forEach(((e,i)=>{e.classList.toggle("active",i===t),i===t&&e.scrollIntoView({block:"nearest",inline:"nearest"})}))}clearResults(){var e;null===(e=this.resultsContainer)||void 0===e||e.remove(),this.resultsContainer=null}destroy(){var e;window.removeEventListener("resize",this.handleResize),null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.clearResults()}}},9934:(e,t,i)=>{i.d(t,{a:()=>r,b:()=>o,g:()=>n,i:()=>a});var s=i(584);i(3572);const n=()=>{let e;const t=window.innerWidth;return e=t<s.b.xs?"xxs":t<s.b.sm?"xs":t<s.b.md?"sm":t<s.b.lg?"md":t<s.b.xl?"lg":t<s.b.xxl?"xl":"xxl",e},a=e=>window.innerWidth>=s.b[e],r=e=>window.innerWidth<=s.b[e],o=e=>window.innerWidth<s.b[e]},8126:(e,t,i)=>{i.r(t),i.d(t,{dc_ui_header_search:()=>r});var s=i(937),n=i(6151),a=i(9934);i(3572),i(584);const r=class{constructor(e){(0,s.r)(this,e),this.dcSearchSubmit=(0,s.c)(this,"dcSearchSubmit",7),this.dcSearchSelect=(0,s.c)(this,"dcSearchSelect",7),this.updateSearchDimensions=()=>{const e=this.el.closest("dc-ui-header-base");e&&e.returnSearchExpandSize().then((e=>{this.el.style.setProperty("--search-expand-size",`${e}px`)})),this.isSmallViewport=(0,a.b)("lg")},this.handleFocus=()=>{this.updateSearchDimensions(),this.isActive=!0},this.handleClear=()=>{var e;this.inputRef&&(this.inputValue=""),null===(e=this.inputRef)||void 0===e||e.blur(),this.isActive=!1},this.handleClose=e=>{e.preventDefault(),this.closeSearch()},this.handleToggleClick=()=>{this.handleFocus(),setTimeout((()=>{var e;null===(e=this.inputRef)||void 0===e||e.focus()}),0)},this.handleInputChange=e=>{const t=e.target;this.inputValue=t.value},this.closeSearch=()=>{var e;this.isActive=!1,null===(e=this.inputRef)||void 0===e||e.blur()},this.placeholder=void 0,this.value=void 0,this.apiUrl=void 0,this.formAction=void 0,this.formTarget=void 0,this.formMethod=void 0,this.searchTermPlaceholder="{query}",this.additionalParameters=void 0,this.maxResults=10,this.highlightResults=!0,this.isActive=!1,this.isSmallViewport=(0,a.b)("lg"),this.inputValue=""}componentWillLoad(){this.inputValue=this.value||""}async getSearchValue(){var e;return(null===(e=this.inputRef)||void 0===e?void 0:e.value)||""}async clearSearchValue(){this.inputRef&&(this.inputRef.value="")}async setSearchValue(e){this.inputRef&&(this.inputRef.value=e)}async toggleSearch(){this.updateSearchDimensions(),this.isActive=!this.isActive,this.isActive&&setTimeout((()=>{var e;null===(e=this.inputRef)||void 0===e||e.focus()}),0)}handleFocusOut(e){e.relatedTarget&&e.relatedTarget.closest("dc-ui-header-search")||(this.isActive=!1)}handleKeyDown(e){"Escape"===e.key&&this.handleClose(e)}handleHeaderHidden(){this.closeSearch()}componentDidLoad(){if(window.addEventListener("resize",this.updateSearchDimensions),this.apiUrl&&this.inputRef){const e=Object.assign(Object.assign({url:this.apiUrl,searchTermPlaceholder:this.searchTermPlaceholder,minChars:1,selector:".search-input-container",resultListClass:"search-suggestions-list",closeOnSelect:!0,maxResults:this.maxResults,highlightResults:this.highlightResults},this.additionalParameters&&{additionalParameters:`&${this.additionalParameters}`}),{onSelect:e=>{var t;this.inputRef&&(this.inputRef.value=e.name,this.dcSearchSelect.emit({item:e}),null===(t=this.formRef)||void 0===t||t.submit())}});this.autocomplete=new n.A(e,this.el,this.inputRef),this.autocomplete.init()}}disconnectedCallback(){var e;window.removeEventListener("resize",this.updateSearchDimensions),null===(e=this.autocomplete)||void 0===e||e.destroy()}render(){const e=!this.isActive&&this.isSmallViewport;return(0,s.h)(s.a,{key:"d4f81ebc7d1a90b10aefc1f1b6f64ea0a67586a4"},(0,s.h)("button",{key:"8f8d05c8b1bd22f6582c3fb2fd45923df6d83542",type:"button",class:{"search-toggle":!0,"is-active":this.isActive},onClick:this.handleToggleClick},(0,s.h)("dc-ui-icon",{key:"c4074df9f3ea31ba5bf3163afe9156baac4bc750",name:"dc_search",size:"medium",tabindex:e?-1:null})),(0,s.h)("form",{key:"f58f9ea0fb55cefec1eacf33f6dd4b2e97ffa2ab",action:this.formAction||"",target:this.formTarget||"",method:this.formMethod||"",ref:e=>this.formRef=e,class:{"search-container":!0,"is-active":this.isActive}},(0,s.h)("div",{key:"b9912c25c1e930da522b958c965b9030c1b7f49e",class:"search-input-container"},(0,s.h)("button",{key:"ebe210b0534e9b348a320b0fff41e33ba2220aea",type:"submit",class:"search-icon",tabindex:e||!this.inputValue?-1:null},(0,s.h)("dc-ui-icon",{key:"9e02c78e412714a2e5e66c981b450b105fcbb8aa",name:"dc_search",size:"medium"})),(0,s.h)("input",{key:"5796dc200eaa57f7290f23e1e1f04351eb706557",type:"search",ref:e=>this.inputRef=e,onFocus:this.handleFocus,onInput:this.handleInputChange,placeholder:this.placeholder,value:this.inputValue,tabindex:e?-1:null}),this.isActive&&(0,s.h)("button",{key:"e72f72eed7a3437d4f63832b7df6887828b72731",type:"button",class:"close-button",onClick:this.handleClear},(0,s.h)("dc-ui-icon",{key:"9c17c26eb7d938fffd7c70baac03fad754b6e97a",name:"dc_close",size:"medium"})))))}get el(){return(0,s.g)(this)}};r.style=':root{--White-Gradient:linear-gradient(\n    180deg,\n    rgba(255, 255, 255, 0) 0%,\n    rgba(255, 255, 255, 0.5) 60%,\n    #ffffff 100%\n  );--Grey-Gradient:linear-gradient(\n    180deg,\n    rgba(237, 241, 244, 0) 0%,\n    rgba(237, 241, 244, 0.5) 60%,\n    #edf1f4 100%\n  );--Blue-Gradient:linear-gradient(\n    180deg,\n    rgba(0, 43, 73, 0) 0%,\n    rgba(0, 43, 73, 0.5) 60%,\n    #002b49 100%\n  )}:host{display:inline-flex;height:100%;width:100%;position:relative;--search-height:56px}@media (min-width: 768px){:host{--search-height:100%}}.search-toggle{background:none;border:none;padding:0;height:var(--search-height);width:var(--search-height);display:grid;place-content:center;cursor:pointer;background-color:#00c8f7;z-index:1}.search-toggle.is-active{z-index:0}.search-toggle:focus-visible{outline:2px solid #002b49;outline-offset:-12px}@media (min-width: 768px){.search-toggle:focus-visible{outline-offset:-24px}}@media (min-width: 1200px){.search-toggle{display:none}}.search-container{height:0;overflow:hidden;position:absolute;top:100%;right:0;width:100vw;transition:height 0.3s ease, overflow 0.3s ease;transition-behavior:allow-discrete}@media (min-width: 768px){.search-container{transition:width 0.3s ease;height:var(--search-height);top:0;width:100%}}.search-container.is-active{height:var(--search-height);overflow:visible}@media (min-width: 768px){.search-container.is-active{height:var(--search-height);width:var(--search-expand-size, 50%)}}.search-container.is-active input{font-size:16px;font-weight:bold}.search-container .search-input-container{display:flex;align-items:center;width:100%;height:100%;position:relative}@media (min-width: 768px){.search-container .search-input-container{position:relative}}.search-container input{width:100%;height:100%;padding-block:16px;padding-inline:60px;border:0;border-radius:0;font-size:12px;line-height:20px;font-weight:400;outline:none;font-family:"Bosch Sans";background-color:#00c8f7;color:#000000;box-sizing:border-box;transition:font-size 0.3s ease}@media (min-width: 768px){.search-container input{padding-block:23px;padding-inline:60px}}.search-container input::-moz-placeholder{color:#000000}.search-container input::placeholder{color:#000000}.search-container input::-moz-selection{background-color:#00b9e5}.search-container input::selection{background-color:#00b9e5}.search-container input[type=search]::-webkit-search-decoration,.search-container input[type=search]::-webkit-search-cancel-button,.search-container input[type=search]::-webkit-search-results-button,.search-container input[type=search]::-webkit-search-results-decoration{-webkit-appearance:none;appearance:none}.search-container .search-icon{height:32px;width:32px;position:absolute;left:24px;background:none;border:none;padding:0;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#002b49;border-radius:0}.search-container .search-icon:focus-visible{outline:2px solid #002b49}@media (min-width: 768px){.search-container .search-icon{left:24px}}@media (min-width: 992px){.search-container .search-icon{left:24px}}.search-container .close-button{height:32px;width:32px;position:absolute;right:24px;background:none;border:none;padding:0;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#000000;border-radius:0}.search-container .close-button:focus-visible{outline:2px solid #002b49}.search-suggestions-list{position:absolute;top:100%;left:0;width:100%;background-color:#ffffff;box-shadow:0px 4px 20px 0px rgba(0, 0, 0, 0.16);margin:0;padding:0;list-style:none;z-index:1000;max-height:240px;overflow-y:auto}.search-suggestions-list::-webkit-scrollbar{-webkit-appearance:none;width:7px}.search-suggestions-list::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0, 0, 0, 0.5);-webkit-box-shadow:0 0 1px rgba(255, 255, 255, 0.5)}.search-suggestions-list li{font-family:"Bosch Sans";font-size:16px;line-height:24px;color:#002b49;padding:12px 24px;cursor:pointer}.search-suggestions-list li:hover{background-color:#edf1f4}.search-suggestions-list li.active{background-color:#edf1f4}.search-suggestions-list mark{font-family:"Bosch Sans";font-size:16px;line-height:24px;font-weight:bold;color:#002b49;background-color:transparent}'},584:(e,t,i)=>{i.d(t,{a:()=>a,b:()=>s,m:()=>n});const s={xxs:0,xs:480,sm:576,md:768,lg:992,xl:1200,xxl:1920};function n(e){return`@media(min-width:${s[e]}px)`}function a(e){return`@media(max-width:${s[e]-1}px)`}}}]);
//# sourceMappingURL=8126.0673dbb9.chunk.js.map